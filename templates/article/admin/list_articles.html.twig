<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="{{ asset('/assets/dist/css/main.css') }}">
</head>
<body>

    <header>

        {# app est une variable globale définie dans twig
            Elle est dispo dans tous les fichiers twig
            et contient des informations un peu générales : les messages flashs, les infos
            de l'utilisateur connecté (si y'en a un) etc
        #}
        {% for message in app.flashes('success') %}
            <p>{{ message }}</p>
        {% endfor %}

    </header>

    <body>

        <a href="{{ path('admin_article_insert') }}">créer un article</a>

        <main class="container">

            {% for article in articles %}
                <article class="col-4">
                    <h2 class="title-article">{{ article.title }}</h2>
                    <a href="{{ path('admin_article_delete', {'id': article.id}) }}">Supprimer l'article</a>
                    <a href="{{ path('admin_article_update', {'id': article.id}) }}">Modifier l'article</a>
                </article>
            {% endfor %}

        </main>
    </body>

</body>
</html>
